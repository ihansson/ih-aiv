window.aiv=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){let n=[],o=!1,r={};function a(t){for(opt in t)r[opt]=t[opt]}function l(t,e){let o=r.context.querySelectorAll(t);for(i in o=Array.prototype.slice.call(o))c(o[i],e);n=n.concat(o)}function u(t){t.aiv.timeout&&window.clearTimeout(t.aiv.timeout),n=n.filter(e=>e!==t)}function c(t,e){if(t.aiv={delay:0,offset:0},t.attributes.aiv){let e=t.attributes.aiv?function(t){let e={};return t?(t.split(";").forEach((function(t){let i=t.trim().split(":");if(!i[0])return;let n=i[0].trim(),o=!i[1]||i[1].trim();-1!==["delay","offset"].indexOf(n)&&(o=parseInt(o)),e[n]=!i[1]||o})),e):e}(t.attributes.aiv.nodeValue):{};for(setting in e)t.aiv[setting]=e[setting]}if(e)for(opt in e)t.aiv[opt]=e[opt];t.aiv.children&&(t.aiv.children=Array.prototype.slice.call(t.querySelectorAll(t.aiv.children)));const i=t.aiv.children?t.aiv.children:[t];let n=[r.in_cls];t.aiv.cls&&n.push(t.aiv.cls);let o=[r.out_cls];for(index in t.aiv.out_cls&&o.push(t.aiv.out_cls),i){let e=i[index];e.aiv||(e.aiv={}),e.aiv.in_cls=n.slice(),e.aiv.out_cls=o.slice(),e.aiv.in_cls.push(e.className),e.aiv.out_cls.push(e.className),t.aiv.start_visible||v(e,e.aiv.out_cls)}}function s(){const t=Date.now();if(o&&t-o<r.throttle)return;o=t;const e=function(){let t=parseInt(window.pageYOffset);return{top:t,bottom:t+parseInt(window.innerHeight)}}();let a=n;for(i in a)f(a[i],e)}function f(t,e){const i=function(t,e){return t.offsetTop+t.aiv.offset<=e.bottom&&t.offsetTop+t.offsetHeight+t.aiv.offset>=e.top}(t,e),n=t.aiv.children?t.aiv.children:[t];for(index in n){let e=n[index];if(i&&"in"!==e.aiv_status&&(e.aiv_status="in",t.aiv.triggered=!0,t.aiv.delay?e.aiv.timeout=window.setTimeout((function(){v(e,e.aiv.in_cls)}),t.aiv.delay*(t.aiv.children?index:index+1)):v(e,e.aiv.in_cls)),!i&&"out"!==e.aiv_status){if(e.aiv.timeout&&(window.clearTimeout(e.aiv.timeout),e.aiv.timeout=!1),t.aiv.triggered&&!t.aiv.repeat){u(t);continue}e.aiv_status="out",v(e,e.aiv.out_cls)}}}function v(t,e){t.className=e.join(" ")}function d(){window.addEventListener("scroll",s),window.addEventListener("resize",s),window.setTimeout((function(){let t=document.createEvent("Event");t.initEvent("scroll",!1,!0),0==window.pageXOffset&&window.dispatchEvent(t)}),60)}t.exports={add:l,remove:u,bind:d,unbind:function(){window.removeEventListener("scroll",s),window.removeEventListener("resize",s)},init:function(t){a({in_cls:"in-view",out_cls:"out-of-view",throttle:50,context:document.body,selector:"[aiv]"}),t&&a(t),r.context&&l("[aiv]"),d()}}}]);
//# sourceMappingURL=aiv.min.js.map