window.aiv=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){let n=[],o=!1,r={};function a(e){for(opt in e)r[opt]=e[opt]}function l(e){n=n.concat(Array.prototype.slice.call(e.querySelectorAll("[aiv]")))}function c(e){e.aiv.timeout&&window.clearTimeout(e.aiv.timeout),n=n.filter(t=>t!==e)}function u(e){e.addEventListener("scroll",v),e.addEventListener("resize",v),e.setTimeout((function(){let t=document.createEvent("Event");t.initEvent("scroll",!1,!0),0==e.pageXOffset&&e.dispatchEvent(t)}),60)}function s(){let e=n;for(i in e)f(e[i])}function f(e,t){if(e.aiv={triggered:!1,cls:_(e,"cls",!1),out_cls:_(e,"out_cls",!1),children:_(e,"children",!1),repeat:_(e,"repeat",!1,!1,!0),start_visible:_(e,"start_visible",!1,!1,!0),delay:_(e,"delay",0,!0),offset:_(e,"offset",0,!0)},t)for(opt in t)e.aiv[opt]=t[opt];e.aiv.children&&(e.aiv.children=Array.prototype.slice.call(e.querySelectorAll(e.aiv.children))),console.log(e,e.aiv);const i=e.aiv.children?e.aiv.children:[e];let n=[r.in_cls];e.aiv.cls&&n.push(e.aiv.cls);let o=[r.out_cls];for(index in e.aiv.out_cls&&o.push(e.aiv.out_cls),i){let t=i[index];t.aiv||(t.aiv={}),t.aiv.in_cls=n.slice(),t.aiv.out_cls=o.slice(),t.aiv.in_cls.push(t.className),t.aiv.out_cls.push(t.className),e.aiv.start_visible||p(t,t.aiv.out_cls)}}function v(){const e=Date.now();if(o&&e-o<r.throttle)return;o=e;const t=function(){let e=parseInt(window.pageYOffset);return{top:e,bottom:e+parseInt(window.innerHeight)}}();let a=n;for(i in a)d(a[i],t)}function d(e,t){const i=function(e,t){return e.offsetTop+e.aiv.offset<=t.bottom&&e.offsetTop+e.offsetHeight+e.aiv.offset>=t.top}(e,t),n=e.aiv.children?e.aiv.children:[e];for(index in n){let t=n[index];if(i&&"in"!==t.aiv_status&&(t.aiv_status="in",e.aiv.triggered=!0,e.aiv.delay?t.aiv.timeout=window.setTimeout((function(){p(t,t.aiv.in_cls)}),e.aiv.delay*(e.aiv.children?index:index+1)):p(t,t.aiv.in_cls)),!i&&"out"!==t.aiv_status){if(t.aiv.timeout&&(window.clearTimeout(t.aiv.timeout),t.aiv.timeout=!1),e.aiv.triggered&&!e.aiv.repeat){c(e);continue}t.aiv_status="out",p(t,t.aiv.out_cls)}}}function p(e,t){e.className=t.join(" ")}function _(e,t,i,n,o){const r=e.attributes["aiv-"+t];return r?!!o||(n?parseInt(r.nodeValue):r.nodeValue):i}e.exports={configure:a,load:s,add:l,add_nodes:function(e,t){let o=Array.prototype.slice.call(document.querySelectorAll(e));for(i in o)f(o[i],t);n=n.concat(o)},remove:c,bind:u,unbind:function(e){e.removeEventListener("scroll",v),e.removeEventListener("resize",v)},init:function(e,t,i){a(e||{in_cls:"in-view",out_cls:"out-of-view",throttle:50}),l(t||document.body),s(),u(i||window)}}}]);
//# sourceMappingURL=aiv.min.js.map